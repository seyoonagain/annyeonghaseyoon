---
team: 하쿠나마타타로
description: AI 타로 연애 상담 서비스
startedAt: 2024-01-17
endedAt: 2025-02-25
techStack: ['TypeScript', 'React', 'Next.js', 'Tailwind CSS', 'NextAuth']
github: https://github.com/tataro-project/Tataro-FE
demo: https://hakunamatatarot.com
---

## Responsibility

- NextAuth를 이용한 OAuth 로그인 구현 및 토큰 관리

## Improvements

### **사용자 인증 관리 포인트 일원화**

- **배경**: 로그인 후 토큰 저장과 사용자 정보 상태 관리가 분산적으로 관리되고 있어 복잡성이 증가
- **방식**: NextAuth를 도입하여 토큰 관리와 사용자 정보 관리를 한 곳으로 일원화
- **성과**: 유지보수성 향상 및 인증 상태를 클라이언트와 서버에서 일관되게 처리 가능

### **액세스 토큰 갱신을 통한 사용자 경험 개선**

- **배경**: 로그인 된 상태에서 액세스 토큰이 만료된 후 API 요청을 보낼 때, 401 에러 발생
- **방식**: Proxy 서버를 구현하여 API 요청을 Proxy 서버를 통해 전달하도록 수정, Proxy 서버 내부에서 액세스 토큰 만료 여부에 따라 재발급 함수를 호출하여 항상 유효한 액세스 토큰으로 API 요청을 보내도록 로직 수정
- **성과**: 사용자는 액세스 토큰 만료를 인식하지 못한 채 원활하게 서비스를 이용할 수 있어 사용자 경험이 향상
- 과제: API 요청의 다양한 옵션을 처리하는 데 한계가 있어, 프로젝트 규모에 따라 보다 확장 가능한 해결 방식이 필요

### **이미지 로딩 성능 최적화**

- **배경**: 스와이퍼 애니메이션이 발생할 때마다 같은 이미지임에도 지속적인 네트워크 요청이 발생하여 Finish 시간이 지속적으로 증가하는 문제 확인
- **방식**: 이미지를 `<Image>` 컴포넌트 대신 `<div>`의 background-image로 삽입하여 한 번 로드된 이미지는 브라우저 캐싱으로 재사용되도록 최적화
- **성과**: 로딩 시간을 3.86초에서 2.02초로 약 47% 단축하여 성능 개선을 달성
- **과졔**: `<Image>` 컴포넌트를 사용하면서도 캐싱 설정하는 방법에 대해 학습 필요

## Insights

### 적절한 상태 관리 도구 선택

- 초기에 상태관리 도구로서 Redux Toolkit를 선택하였으나 직렬화가 안되는 데이터 및 함수를 상태로 저장하기 위해 Zustand로 마이그레이션을 진행하게 되면서 프로젝트 특성에 맞는 상태관리 도구 선택의 중요성 체감

## Teamwork

### 코드 리뷰를 통한 협업 및 학습

- 팀원들 간 코드 리뷰를 통해 다른 사람들의 코드에 대한 이해도도 높이면서 코드 일관성을 유지하고자 하였으며, 서로의 개발 방식과 접근법을 통해 새로운 기술 및 패턴 학습
